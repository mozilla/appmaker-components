<element name="app-randomcat">
  <template>
    <link rel="stylesheet" href="{{ASSET_HOST}}/assets/style/app-random_cat.css">
    <div class="wrapper"><img style="width: 30%" /></div>
  </template>
  <description>
    Shows a super random cat
  </description>
  <thumbnail>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAArCAYAAADL7YBvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxRjFDQTQ0OTE2QzIxMUUzQkQ3OEUxRDEyODNBNUUxMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxRjFDQTQ0QTE2QzIxMUUzQkQ3OEUxRDEyODNBNUUxMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFGMUNBNDQ3MTZDMjExRTNCRDc4RTFEMTI4M0E1RTExIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFGMUNBNDQ4MTZDMjExRTNCRDc4RTFEMTI4M0E1RTExIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vebYywAABLVJREFUeNrkWktsE1cUvf7N2MSJ7dhATBrcfGwaQIR+JEJUqYVFpaB2UVRVxWo3RapQK3XTbbOKxI5lWgkJJH6V+gFVqgSLSqVdlCARkgYSosaN3BZIjEhihybEnnFmet8wE83HHofkjWMnRzp64/fG4zn33nffnXm2jQ7fBBO4kF8j48j7yNsqDiKfQJVh974D4FR39I4kNCf07I2+i81x+WNM5jH5s4hMqIwwgBzCa1ScIVCH5rPTbBDxusm1bAUMIeA1ErqIGLIyIvZ0dJqOf3DpgqGPiO5GnkGGKdyDHblLZrwcXlRNzykSlWiEayu5SVqC1xthURTPYsvIUWgqeiMIfjbfbLYGbIJyAi4K00RWLdDlIiJ6HsmZeXqjgdU7c8OLPtnbc+ziudOdmOC8ZRV9/8oVGP+qD5ayWdPz5pNJGO75Umppoa215YvWluareJhB4aMY+ufx+ATSY6loLpOGxakpFH+56DnEIMQ4FsJBCjDkR3JVeaks4T03NgaPb9woEg2XJeMoHqeFfxYW4T8+X2jo7YLZ2wo8uv6LIcz5TEYyiBX4OTUN/aIdGmefwIloRD2ULJtoIpgILze8LoO0ASrhTcJTCdGKK8/crDWix06dgvG+PilpFYInHAbGH3juMSqiPW591yAV0eTGSfhOnD2jmbdcOiMJin36GTQdPWr4njL2YjxuoWiNpwX5iW/tols/Pi4JIIJnBwcNYU8yd3poqOC0IGPT/f2WCHY77BBgNOX3n3JpuvZE5nC7IXTwIExeuwrZVMowTvqLQT228HeSquhtrGE+36JakZWqutYD2z0G0bepiiZrrhRSDQ0VI7rBJHNTET03du/ZutjcXDGit7kZTTAi/6AmmoS2Et4kk1cCGLsNk5hGNPHKU2qilfVZ7eVia3a5EGQZ/buiAaqPlkzAv/zAoFRm653YgozLdD6vXTSu0YqXSWVG1t7VeJpmdITc5pmbSiLb0X1kuTIja6/Z2lyOZS/EajxNnjGHqYsmgpVy09fevqosvv3QYWqifS6N6Lu9IwmDRak9Wta//IrE9YatRGhb/uakAnBrM4redJ4mL/vvFhootWtZzbizp6OTK7RraRcE4dFGUcnzvGlRsiz6wYPJz/P5/Ey1C57P5uCviSTZxSsp2tn9zntkP/dNsq5Did2+laJxR3hLV9eBtsjOpmgwWB+t9XpjLMs2QoktVF4QYIbjYSbHwazcLuSXVvSbXVsDEPPXgd/vA4fDUTSJKXM6h1Q8zZa6sZXg4eRU+vsffnyIh78pfbFoa83hQ2/sikSa2usDgZdqara0My5Xkz6ZhvQl6pIA07kcPM7x2HLS8dO8YPjNSKgeArVe8PnqgGFci9g1Yiaal0XPg4XvwccTE4R31H0fxt+vPdL9VgcaocPtYfc7nc79DrujRW/4mO5aZAcjhaVrKstBajGLhuBhb/NOcDmdRDDgdUgSy5uJFuX0zpV7Hl785rs08l88/EnpGx2+WYcNKe1eVTGqNgQ5oXEVRQn1MpQW0EPkTzm/ytQb4jWVIdpMpuLvZsuwrcT/yCoZvgIR8QLyW+Qn8rQ1wPA/sirDHPK6zOd7KBFFETYb/hdgACkjrFkDQjK6AAAAAElFTkSuQmCC">
  </thumbnail>
  <script type="text/ceci">
    Ceci(this, {
      percent : 0,
      init: function (params) {
        var cat = this.querySelector("img");
        var t = this;
        cat.onclick = function(){
          var img = t.querySelector("img");
          t.broadcast(img.src);
        };
        var percent = 80;
        this.changeCat();
        this.setAttribute('catwidth', percent);
      },
      broadcast: function (e) {
        this.emit(e)
      },
      editable: {
        photoStyle: {
          options : ["Color","Black and White"],
          type: "select",
          description: "Pick what kind of photo you'd like.",
          postset: function(v) {
          }
        },
        catWidth: {
          min : 0,
          max: 100,
          type: "number",
          description: "Set the width of your cat",
          postset: function(v) {
            this.setWidth(v);
          }
        }
      },
      defaultListener: 'changeCat',
      listeners: {
        changeCat: function () {
          var type = "";
          if (this.getAttribute("photoStyle") != "Color"){
            type = "/g/"
          } else {
            type ="";
          };
          var cat = this.querySelector("img");
          var random = 600 - Math.floor((Math.random()*500));
          var src = "http://placekitten.com/"+type+random+"/"+random;
          cat.setAttribute("src", src);
        },
        setWidth : function(val){
         this.querySelector("img").style.width = val + "%";
        }
      }
    });
  </script>
</element>
