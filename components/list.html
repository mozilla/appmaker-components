<element name="app-list">
  <template>
    <link rel="stylesheet" href="{{ASSET_HOST}}/assets/style/app-list.css"></link>
        <header class="fixed">
          <h1 class="list-title">List Title</h1>
          <ul class="list-contents">
          </ul>
        </header>
  </template>
  <description>
    A basic list
  </description>
  <script type="text/ceci">
    Ceci(this, {
      init: function (params) {
        this.setTitle('List Title');
      },
      editable: {
        "listtitle": {
          title: "List Title",
          type: "text",
          description: "A title for your list",
          postset: function (v) {
            this.setTitle(v);
          }
        }
      },
      listeners: {
        setTitle: function (val) {
          this.querySelector('.list-title').innerHTML = val;
        },
        setValue: function (val) {
          var listItem = document.createElement('li');

          if (/^data:image\/png;base64/.test(val)) {
            listItem.innerHTML = "<img src='" + val + "' />";
          }
          else {
            listItem.innerHTML = val;
          }

          var contentsEl = this.querySelector('.list-contents');
          contentsEl.insertBefore(listItem, contentsEl.firstChild);
        }
      }
    });
  </script>
</element>
