<element name="app-imagepreview">
  <template>
    <link rel="stylesheet" href="{{ASSET_HOST}}/assets/style/app-imagepreview.css"></link>
    <img src="" width="100%" min-height="200px">
  </template>
  <description>
    Shows preview of any image it receives
  </description>
  <thumbnail>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAArCAYAAADL7YBvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0QUM5QTg2ODE0NDQxMUUzQkQ3OEUxRDEyODNBNUUxMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0QUM5QTg2OTE0NDQxMUUzQkQ3OEUxRDEyODNBNUUxMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjRBQzlBODY2MTQ0NDExRTNCRDc4RTFEMTI4M0E1RTExIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjRBQzlBODY3MTQ0NDExRTNCRDc4RTFEMTI4M0E1RTExIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+hxGwkwAABNhJREFUeNrkWm1oW1UYftN8NWubzzZN2qTFNu3WpFumFlqHTh1mWLWFDRm0KP4Y2F/zh/tRGPhrIPSvQ6SKg8IQv34MREUGFh2M4dbNru1k1joxXbeky+q2pIlJmut70pt4P3Jv7q1NdhNfeLj3fORwnvc95zkfN6qF2YsgYlrEB4hRRBAxw8AVxAOoMPPu6QcNM+PY+ASrwqmJ8UP4OEonu2mM0GkKschwwmXEVWxDcY5AHqy0qkik3yO+kNF+huMIgqulHBE+/4Bo+YEXD7FI5yI9iPgY4dyGPtQgdtIYLUcUGUG7TUYlOuFbKZ3cLsKP2pwURZ3Gp46M4GKkq4Hw5lxVqRz4sNECLGiiQlYpxhEqQjqKSIpFutpMzw1m1ZN+9+Q7I2emPhxAgauXNLyrwTydHcfdbtdxfN1A4jfoZfMCYgoRr0rSDFOTZZnG64iDiMOKI61RZ2Bs/zwEeoLZDd+5X9pg8sdeSG9In4WLvwfBaDKD0djALXpFkcN77Jl5OPz4Uj5N3pNpNXx03ie5jbNffw/fTf8EbpcTTrx9lFl0U5FCFvAGeXkv7/5jS20ZjTwdu1zNS1bW3C3NlUH63HU3L++bufatkXY5uFlXZM3pvro4HLFtHpSmVs2wENeXhPTk+d7srjnQ8+emE1DITl/wbqmttlYH9/Q3I4t0wBTLvw9bHpaMNFHp96f3ZPFfrNagA5vVzMy6QW9NpQ1vn+FvsGg28mnyHjBFFT2fWxx2PHywsi7J2ob21cd5eU83rIOhhlIsaZfTzs2akUyaRJVEmmuE8BAOc6Vaa4tdULmLkiYCJlbWoksrkzQ70mRu/iyDdEK08SEzP9rEEW80/ZXFo3CKTq+DRraIXUesSzplcQWskHXWJrP1cmpOSI7Z7+Xne62Kgsmwpaykmxut5AZFcGiLRrqQgBWyYXpucwnnnEJQTrPbbaLzWTDSQgImVJdsXHyGREFFf8EYg6WErmykHU02UeUWjLSYgAnVF1rCyh3t5mYra7+DmJVIOrGtHSHRLpdZzUZmcu7Y+ESiKGkpAibXyhltFfvKe6ZQnZqtCpiSoy20/SxIWo6AKTnasiItV8AUHm3i4blCBawla/jEyZL2Ak/LcKp8pK/5/ANJ8tWSF+lMJhOqliuiVColuinJk15eXnkrnU5HKp3ww2gMflu6CYyDtCBpzeDQq+R77nOIRijytU/60c65Y9++fk97m7vLZrN2NdTXd+v1+lYo8gk1mUxBePUehCOI1TUI340gmXVperG/H3q9HjCbTaBWqwVFLDeniVznIq0v1jEpdmvl9toXX569ha8/5PK6uzrrDjz/7M72dneP1WLZVVe3o0en1bq5YtqEBwbmLXcsnoA74btwJxSBEHmGIxCL8QW34zE3WCxmMJmMoNNpSYV5MdIpmnQUSnj5/+viEsE1Zt5ro0caXho86Ecn+GsN+r0ajWavukbdwXX8rm4Pq637D6KwvBKCIII8Q+gQ/24vaLVaQhiwHSJiaTHSFC3vZV9Ez3zy+RqCXH1+lctbmL1I9pFPIJ5koIvpCPLJhnzBeErmpuTfXVsFGMMRfQxHeET6P4KR/pT+LauA/NGm2L+LlGymAiPChfgM8SY9bXnG+x9Zhdl9xDQNeYcSiqLg/2b/CDAAogB1b52KyYwAAAAASUVORK5CYII=">
  </thumbnail>
  <script type="text/ceci">
    Ceci(this, {
      init: function () {
        this.img = this.querySelector("img");
      },
      defaultListener: "preview",
      listeners: {
        preview: function(data, channel) {
          if(data.indexOf("data:image/") === 0) {
            this.log("receives a data image", channel);
            this.img.src = data;
          } else {
            this.log("receives data it doesn't know what to do with!", channel, Ceci.LOG_WTF);
          }
        }
      }
    });
  </script>
</element>
